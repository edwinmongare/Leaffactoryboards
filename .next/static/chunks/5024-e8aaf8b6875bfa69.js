"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5024],{5024:function(e,a,l){l.r(a);var s=l(7568),i=l(655),r=l(5893),o=l(7294),n=l(3861),t=l(9403),d=l(2167),u=l(4420),c=l(6094),m=l(1202),h=l(2175),v=l(6310),Q=l(8433),N=l(6952);a.default=function(){var e=(0,o.useRef)(null),a=(0,o.useState)(!1),l=a[0],x=a[1],f=v.Ry().shape({Q1:v.Z_().required("yes or No answer required"),Q2:v.Z_().required("yes or No answer required"),Q3:v.Z_().required("yes or No answer required"),Q4:v.Z_().required("yes or No answer required"),Q5:v.Z_().required("yes or No answer required"),Q6:v.Z_().required("yes or No answer required"),Q7:v.Z_().required("yes or No answer required"),Q8:v.Z_().required("yes or No answer required"),Q9:v.hT().required("Date and time required"),Q10:v.Z_().notRequired()}),p=(0,h.TA)({initialValues:{Q1:"",Q2:"",Q3:"",Q4:"",Q5:"",Q6:"",Q7:"",Q8:"",Q9:new Date,Q10:""},validationSchema:f,onSubmit:function(){var a=(0,s.Z)((function(a,l){var s,r,o,n;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:s=l.setSubmitting,r=l.resetForm,i.label=1;case 1:return i.trys.push([1,3,4,5]),a.Q8=j(),a.Q9=(0,d.Z)(new Date,"yyyy-MM-dd HH:mm"),[4,Q.Z.post("".concat(N.f,"postQualityTrigger"),a)];case 2:return o=i.sent(),console.log(o.data,"response from api"),200===o.status&&(e.current.show({severity:"success",summary:"Data succesfully submited",detail:"The form data has been posted successfully",life:1e4}),r()),[3,5];case 3:return n=i.sent(),console.log(n),e.current.show({severity:"error",summary:"Error",detail:"There was an error posting the data. Please try again",life:5e3}),console.log(n,"error"),[3,5];case 4:return s(!1),x(!1),[7];case 5:return[2]}}))}));return function(e,l){return a.apply(this,arguments)}}()}),g=[{id:"1",Name:"Yes"},{id:"2",Name:"No"}],b=new Date,y=(0,d.Z)(b,"yyyy-MM-dd HH:mm:ss"),j=function(){var e=p.values,a=e.Q1,l=e.Q2,s=e.Q3,i=e.Q4,r=e.Q5,o=e.Q6,n=e.Q7,t="";return t="No"===a&&"No"===l&&"No"===s&&"No"===i&&"No"===r&&"No"===o&&"Yes"===n?"Low":"High",p.setFieldValue("Q8",t),t};return(0,o.useEffect)((function(){j()}),[p.values.Q1,p.values.Q2,p.values.Q3,p.values.Q4,p.values.Q5,p.values.Q6,p.values.Q7]),console.log(p.values.Q10,"q10"),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.F,{ref:e}),(0,r.jsxs)("div",{className:"card shadow-3",children:[(0,r.jsx)("h6",{className:"font-bold",children:"Quality Trigger"}),(0,r.jsx)(n.V,{header:"Quality Trigger  (".concat(p.values.Q8,")"),visible:l,style:{width:"70vw"},modal:!0,onHide:function(){return x(!1)},children:(0,r.jsxs)("form",{onSubmit:p.handleSubmit,children:[(0,r.jsx)("div",{className:"grid",children:(0,r.jsx)("div",{className:"col-12 md:col-12",children:(0,r.jsxs)("div",{className:"card mb-3 p-fluid",children:[(0,r.jsxs)("div",{className:"field grid",children:[(0,r.jsxs)("div",{className:"col-12 md:col-12",children:[(0,r.jsx)("label",{htmlFor:"Q9",children:"Date"}),(0,r.jsx)(c.o,{className:"field",id:"Q9",readOnly:!0,placeholder:y,type:"text"})]}),(0,r.jsxs)("div",{className:"col-6 md:col-6",children:[(0,r.jsx)("label",{className:"mb-5",htmlFor:"Q8",children:"Trigger Status"}),(0,r.jsx)(c.o,{id:"Q8",hidden:!0,className:"field",value:p.values.Q8,type:"text"})]})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{htmlFor:"Q1",children:"1. Are we having a weekly startup/have we had any maintenance jobs?"}),(0,r.jsx)(m.L,{id:"Q1",className:"field",value:p.values.Q1,onChange:function(e){p.setFieldValue("Q1",e.value.Name),console.log(p.values.Q1,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:p.values.Q1})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{htmlFor:"Q2",children:"2. Do we expect to have a sample run"}),(0,r.jsx)(m.L,{id:"Q2",className:"field",value:p.values.Q2,onChange:function(e){p.setFieldValue("Q2",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:p.values.Q2})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{htmlFor:"Q3",children:"3. Did we have a quality incident or NCP from previous shift"}),(0,r.jsx)(m.L,{id:"Q3",className:"field",value:p.values.Q3,onChange:function(e){p.setFieldValue("Q3",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:p.values.Q3})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{htmlFor:"Q4",children:"4. Do we have a new team member"}),(0,r.jsx)(m.L,{id:"Q4",className:"field",value:p.values.Q4,onChange:function(e){p.setFieldValue("Q4",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:p.values.Q4})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{htmlFor:"Q5",children:"5. Do we have a grade change/style change?"}),(0,r.jsx)(m.L,{id:"Q5",className:"field",value:p.values.Q5,onChange:function(e){p.setFieldValue("Q5",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:p.values.Q5})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{htmlFor:"Q6",children:"6. Are there any other activities going on that may impact QA process and product quality i.e. mop up, line optimization, high NTRM alert from farm, loose materials, wearing machine parts belts etc., infestation above threshold (>1.0 CPT), reefed or contamination"}),(0,r.jsx)(m.L,{id:"Q6",className:"field",value:p.values.Q6,onChange:function(e){p.setFieldValue("Q6",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:p.values.Q6})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{htmlFor:"Q7",children:"7. Are all moisture meters working OK"}),(0,r.jsx)(m.L,{id:"Q7",className:"field",value:p.values.Q7,onChange:function(e){p.setFieldValue("Q7",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:p.values.Q7})]}),"High"===p.values.Q8?(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{className:"mt-0",htmlFor:"Q10",children:"8. Kindly enter the reason for the setting a high quality trigger"}),(0,r.jsx)(c.o,{className:"field",id:"Q10",name:"Q10",value:p.values.Q10,onChange:p.handleChange})]}):null]})})}),(0,r.jsx)(t.z,{className:"border-double mt-4 border-4 border-sky-500 col-12 p-mt-2 p-button-primary",onClick:function(){return p.handleSubmit()},icon:"pi pi-check",disabled:p.isSubmitting||!p.isValid,type:"submit",label:"Submit"})]})}),console.log(p.errors,"qa errors"),(0,r.jsx)("div",{className:"grid",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)(t.z,{type:"submit",label:"Enter Data",icon:"pi pi-external-link",onClick:function(){return x(!0)}})})})]})]})}}}]);