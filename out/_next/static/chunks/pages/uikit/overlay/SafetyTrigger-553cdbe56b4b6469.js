(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1785],{6880:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uikit/overlay/SafetyTrigger",function(){return l(9250)}])},9250:function(e,a,l){"use strict";l.r(a);var s=l(7568),i=l(655),r=l(5893),t=l(7294),n=l(3861),o=l(9403),d=l(2167),c=l(4420),u=l(6094),m=l(1202),h=l(2175),v=l(6310),f=l(8433),x=l(6952);a.default=function(){var e=(0,t.useRef)(null),a=(0,t.useState)(!1),l=a[0],Q=a[1],p=v.Ry().shape({Q1:v.Z_().required("yes or No answer required"),Q2:v.Z_().required("yes or No answer required"),Q3:v.Z_().required("yes or No answer required"),Q4:v.Z_().required("yes or No answer required"),Q5:v.Z_().required("yes or No answer required"),Q6:v.Z_().required("yes or No answer required"),Q7:v.Z_().required("yes or No answer required"),Q8:v.Z_().required("yes or No answer required"),Q9:v.Z_().required("yes or No answer required"),Q10:v.Z_().required("yes or No answer required"),Q11:v.Z_(),Q12:v.hT().required("Date and time required"),Q13:v.Z_().required("yes or No answer required")}),N=(0,h.TA)({initialValues:{Q1:"",Q2:"",Q3:"",Q4:"",Q5:"",Q6:"",Q7:"",Q9:"",Q10:"",Q11:"",Q12:new Date,Q13:""},validationSchema:p,onSubmit:function(){var a=(0,s.Z)((function(a,l){var s,r,t,n;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:s=l.setSubmitting,r=l.resetForm,i.label=1;case 1:return i.trys.push([1,3,4,5]),a.Q13=y(),a.Q9=(0,d.Z)(new Date,"yyyy-MM-dd HH:mm"),[4,f.Z.post("".concat(x.f,"safetyTrigger"),a)];case 2:return t=i.sent(),console.log(t.data,"response from api"),200===t.status&&(e.current.show({severity:"success",summary:"Data succesfully submited",detail:"The form data has been posted successfully",life:1e4}),r()),[3,5];case 3:return n=i.sent(),console.log(n),e.current.show({severity:"error",summary:"Error",detail:"There was an error posting the data. Please try again",life:5e3}),console.log(n,"error"),[3,5];case 4:return s(!1),Q(!1),[7];case 5:return[2]}}))}));return function(e,l){return a.apply(this,arguments)}}()}),g=[{id:"Yes",Name:"1"},{id:"No",Name:"0"}],b=new Date,j=(0,d.Z)(b,"yyyy-MM-dd HH:mm:ss"),y=function(){var e=N.values,a=e.Q1,l=e.Q2,s=e.Q3,i=e.Q4,r=e.Q5,t=e.Q6,n=e.Q7,o=e.Q8,d=e.Q9,c=e.Q10,u="",m=parseInt(a)+parseInt(l)+parseInt(s)+parseInt(i)+parseInt(r)+parseInt(t)+parseInt(n)+parseInt(o)+parseInt(d)+parseInt(c);return u=m<=3?"Low":m>=4&&m<=6?"Medium":"High",N.setFieldValue("Q13",u),u};return(0,t.useEffect)((function(){y()}),[N.values.Q1,N.values.Q2,N.values.Q3,N.values.Q4,N.values.Q5,N.values.Q6,N.values.Q7,N.values.Q8,N.values.Q9,N.values.Q10]),console.log(N.values.Q1,"q1"),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.F,{ref:e}),(0,r.jsxs)("div",{className:"card shadow-3",children:[(0,r.jsx)("h6",{className:"font-bold",children:"Safety Trigger"}),(0,r.jsx)(n.V,{header:"Safety Trigger  (".concat(N.values.Q13,")"),visible:l,style:{width:"80vw"},modal:!0,onHide:function(){return Q(!1)},children:(0,r.jsxs)("form",{onSubmit:N.handleSubmit,children:[(0,r.jsx)("div",{className:"grid",children:(0,r.jsx)("div",{className:"col-12 md:col-12",children:(0,r.jsxs)("div",{className:"card mb-3 p-fluid",children:[(0,r.jsxs)("div",{className:"field grid",children:[(0,r.jsxs)("div",{className:"col-12 md:col-12",children:[(0,r.jsx)("label",{htmlFor:"Q12",children:"Date"}),(0,r.jsx)(u.o,{className:"field",id:"Q12",readOnly:!0,placeholder:j,type:"text"})]}),(0,r.jsxs)("div",{className:"col-6 md:col-6",children:[(0,r.jsx)("label",{className:"mb-5",htmlFor:"Q12",children:"Safety Trigger Status"}),(0,r.jsx)(u.o,{id:"Q13",hidden:!0,className:"field",value:N.values.Q13,type:"text"})]})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{htmlFor:"Q1",children:"1. Are Routine operations ongoing, proper working tools, adequate PPE and qualified/adequate staffing?"}),(0,r.jsx)(m.L,{id:"Q1",className:"field",value:N.values.Q1,onChange:function(e){N.setFieldValue("Q1",e.value.Name),console.log(N.values.Q1,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:N.values.Q1})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsxs)("label",{htmlFor:"Q2",children:["2. Are there Non routine operations eg maintenance, deep cleaning, breakdown",(0,r.jsx)("h3",{className:"text-sm ml-2subpixel-antialiased text-red-400 font-regular",children:"Complete the QRP form before commencement of the activity"})]}),(0,r.jsx)(m.L,{id:"Q2",className:"field",value:N.values.Q2,onChange:function(e){N.setFieldValue("Q2",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:N.values.Q2})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsxs)("label",{htmlFor:"Q3",children:["3. NPI running with non factory staff on the floor",(0,r.jsx)("h3",{className:"text-sm ml-2subpixel-antialiased text-red-400 font-regular",children:"Conduct safety induction and team to be accompanied always by GLT Staff"})]}),(0,r.jsx)(m.L,{id:"Q3",className:"field",value:N.values.Q3,onChange:function(e){N.setFieldValue("Q3",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:N.values.Q3})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsxs)("label",{htmlFor:"Q4",children:["4. Team staffing less than set standard or there is new staff on the line",(0,r.jsx)("h3",{className:"text-sm ml-2subpixel-antialiased text-red-400 font-regular",children:"Reallocation of the staff members to cover high risk areas New staff to shadow and be attached to the experienced staff members"})]}),(0,r.jsx)(m.L,{id:"Q4",className:"field",value:N.values.Q4,onChange:function(e){N.setFieldValue("Q4",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:N.values.Q4})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsxs)("label",{htmlFor:"Q5",children:["5. Visitors in the factory area",(0,r.jsx)("h3",{className:"text-sm ml-2subpixel-antialiased text-red-400 font-regular",children:"Conduct safety induction and team to be accompanied always by GLT Staff"})]}),(0,r.jsx)(m.L,{id:"Q5",className:"field",value:N.values.Q5,onChange:function(e){N.setFieldValue("Q5",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:N.values.Q5})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsxs)("label",{htmlFor:"Q6",children:["6. Machine start up",(0,r.jsx)("h3",{className:"text-sm ml-2subpixel-antialiased text-red-400 font-regular",children:"Follow start up procedure"})]}),(0,r.jsx)(m.L,{id:"Q6",className:"field",value:N.values.Q6,onChange:function(e){N.setFieldValue("Q6",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:N.values.Q6})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsxs)("label",{htmlFor:"Q7",children:["7. Near miss reported in the previous shift",(0,r.jsx)("h3",{className:"text-sm ml-2subpixel-antialiased text-red-400 font-regular",children:"Ensure effective communication to the line structure Implement corrective and preventive actions"})]}),(0,r.jsx)(m.L,{id:"Q7",className:"field",value:N.values.Q7,onChange:function(e){N.setFieldValue("Q7",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:N.values.Q7})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsxs)("label",{htmlFor:"Q8",children:["8. Accident/First aid injury reported in previous shift",(0,r.jsx)("h3",{className:"text-sm ml-2subpixel-antialiased text-red-400 font-regular",children:"Stop all activities and only start after corrective/preventive actions have been implemented Plan for BOS to verify countermeasures remain in place"})]}),(0,r.jsx)(m.L,{id:"Q8",className:"field",value:N.values.Q8,onChange:function(e){N.setFieldValue("Q8",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:N.values.Q8})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsxs)("label",{htmlFor:"Q9",children:["9. Safety interlock/guarding missing/failure",(0,r.jsx)("h3",{className:"text-sm ml-2subpixel-antialiased text-red-400 font-regular",children:"Stop all activities and only start after corrective/preventive actions have been implemented Plan for BOS to verify countermeasures remain in place"})]}),(0,r.jsx)(m.L,{id:"Q9",className:"field",value:N.values.Q9,onChange:function(e){N.setFieldValue("Q9",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:N.values.Q9})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsxs)("label",{htmlFor:"Q10",children:["10. Environmental hazards e.g., smoke, fumes, oil spillage",(0,r.jsx)("h3",{className:"text-sm ml-2subpixel-antialiased text-red-400 font-regular",children:"Stop all activities and only start after corrective/preventive actions have been implemented Plan for BOS to verify countermeasures remain in place"})]}),(0,r.jsx)(m.L,{id:"Q10",className:"field",value:N.values.Q10,onChange:function(e){N.setFieldValue("Q10",e.value.Name),console.log(e.value.Name,"selectedxxx value")},options:g,optionLabel:"Name",placeholder:N.values.Q10})]}),"High"===N.values.Q13?(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{className:"mt-0",htmlFor:"Q10",children:"11. Kindly enter the reason for the setting a high safety trigger"}),(0,r.jsx)(u.o,{className:"field",id:"Q11",name:"Q11",value:N.values.Q11,onChange:N.handleChange})]}):null]})})}),(0,r.jsx)(o.z,{className:"border-double mt-4 border-4 border-sky-500 col-12 p-mt-2 p-button-primary",onClick:function(){return N.handleSubmit()},icon:"pi pi-check",disabled:N.isSubmitting||!N.isValid,type:"submit",label:"Submit"})]})}),console.log(N.errors,"qa errors"),(0,r.jsx)("div",{className:"grid",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)(o.z,{type:"submit",label:"Enter Data",icon:"pi pi-external-link",onClick:function(){return Q(!0)}})})})]})]})}}},function(e){e.O(0,[8725,4420,3861,508,9774,2888,179],(function(){return a=6880,e(e.s=a);var a}));var a=e.O();_N_E=a}]);